function [y1] = myNeuralNetworkFunction2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 22-Jan-2023 20:36:21.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 13xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [22;118.5;29.5;31.1;79.3;69.4;85;47.2;33;19.1;24.8;21;15.8];
x1_step1.gain = [0.0338983050847458;0.00817494379726139;0.0414507772020725;0.099502487562189;0.0351493848857645;0.0254129606099111;0.0318979266347687;0.0498753117206983;0.124223602484472;0.135135135135135;0.099009900990099;0.143884892086331;0.357142857142857];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.8785871314573794333;1.7994175123589557508;-1.6988003307331591696;-1.4430380299334026883;1.2953574434610730659;1.3867213617086053823;1.2571304268842333762;0.92262264065792454204;0.90647976131726992755;-1.2361058415652435016;0.66348035179585163057;-0.44405396991278089924;0.82084448568711321226;-0.754133355900195812;-0.35057975826694376398;0.13678872596477939516;0.21582460370607284283;-0.51532724084454395452;0.21938843142571540223;-0.35207890446466633128;-1.0751504669319760232;-0.76904435816055405351;-0.48213008634648918393;-0.064434546161047795421;-0.75047948066616343432;0.96780041862652177453;-1.2767692869741835704;-1.3092612160229679663;1.2684802743293341898;1.3015003223148535749;-1.5091975790536522606;-1.5828535029401722412;-1.6574893505867724919;-1.8033912488415824171;-1.9039186758322004245];
IW1_1 = [0.70387036813989078965 -0.063498006644528662279 -0.48878033014011956769 0.13705448816899606923 0.64541574028097536964 -0.92434243673845950529 -0.25855582039972030417 0.0078917482142148529661 0.38539212722900423325 0.45555743134692483487 0.40220618781929601271 -0.74022642480891098771 0.38677754875810260726;-0.31529693753311627269 -0.055759580593993482434 0.69117861957976522991 -0.21467473812073331607 0.34906480657233152076 0.056858582806380689179 -0.206346705381265344 0.43565595435185955342 -0.77533527786914191449 0.79059962952330786745 0.33928765917548658892 0.81585440025445088441 0.63401875952459996189;0.222259450356073196 0.39155781873636041901 0.16306801928759825926 -0.14293485683252898921 0.32041764395358363071 -0.1846107914978406539 0.22130972643515942067 -1.1160272130302806293 -0.046601492271059870298 0.54989668008220626838 -0.93280095080104252769 0.49943305955880945568 -0.46822527317011558567;0.6717542619527451242 0.10208426908272538736 -0.80740858388100433807 0.6676204443110737019 0.91912300181909034613 0.65007049904861513578 0.49181494947613829671 0.002807025618496437544 -0.46067957861402575315 0.05956985191746078101 0.48077428784521863969 0.27980326018154361156 0.17573932767255248666;-1.4049938997606365998 0.60781072718919681996 -0.069814483181271813628 0.17047834614172732715 0.068329908728411326013 0.19981066006031950044 0.64399322834177064045 0.41130626500130446077 -0.21721885227060866441 -0.45174037787200593819 0.59903324007951486152 0.66922610921133840467 0.028488150004284923389;-0.65507292243989523328 -0.32599234083937328466 0.14052558014970290001 0.57148512267019357935 0.24441814653389462575 -0.50462018948148024133 0.40153980171984848813 -0.11220459501461776952 1.1091191407170510885 -0.22421542828630419697 -0.14347578705500246832 0.56428423316069786786 1.2916426805304923597;-0.18415011283480969828 -0.88222026530645047959 0.27728154216230321838 0.07334352066485612387 -0.033372399678990034844 0.71961051587230184801 -0.74259725518320718329 -0.76312730026372876946 0.45009814592922414711 -0.48852282566935556485 -0.19031699517563524515 -0.54964133091607458859 0.010299025153923137971;-0.322402243156520385 -1.0111714846742296814 -0.1596602265953357136 1.0476420758067741534 0.45150395456155006935 0.019470427274088576708 0.13305774972350309371 -0.15328733451105308605 -0.41364269373844070321 0.0052728515097959349073 -0.056645744975658329778 0.21586606643095074265 -0.62839997144356640746;-0.91976342593130855363 -0.45194187794358881005 0.55614888005995377629 0.22872915325205084303 -0.19943926695746411193 0.11319876148911144076 -0.67306828199287782599 -0.7238919743700691356 0.36386227629361322933 0.75029444123305844006 -0.40403898668728754906 0.48719824170863118562 -0.17267077728165086681;0.35373113636413183736 -0.20760366194867518885 -1.1533484997639309455 0.40318143744308626575 -0.48845248647903616313 0.72345083850554947613 0.57219067048720018143 0.98914504666781044584 -0.099749443148599722941 -0.21295029933385220544 0.12813921026263777603 0.24191236942258925735 0.32734445299065284551;-0.42749690040652188472 0.55392569320071283201 1.1385189214546267422 0.72188549549849845288 -0.74111200070195804024 -0.7183539955811887312 0.45075989819972211992 0.69553366427950846784 0.67767352146437787042 0.19916424844520269621 0.66952974081657945504 0.48952096815461598744 0.91413574720116430594;0.41772070259057142438 -0.56619787509153962635 0.64214910884434606153 0.30499125771541357732 -0.25135848863121296182 -0.049105909886484527815 0.47015628159890671123 0.66315807418382477501 0.63138280470855623339 -0.72544677216522013286 -0.53186342564333710659 0.49150440384663807158 -0.049973190047684058757;-0.6881071440071155898 -0.69006629768989402596 -0.12103453046848354491 -0.93077931918606982009 0.66807803486731620612 0.0062964016886722564553 -0.88365812752148231723 0.23327225348596059007 0.12789256108366850451 0.34037609849657585182 0.26775444126478559204 0.45101107488155534053 0.11718299756331709838;0.031248514787980689184 0.4004366652495662815 -0.1405628239451061634 0.22962185461902234751 -0.55129927819830526481 -0.52176948002257861337 0.48501016850154232696 0.12193974782697443449 -0.27292900696883004574 0.28726833926600342517 -0.90736671619747277795 -0.82089484332151196888 0.53204524179187362432;0.72899417772920960257 -0.31549074054842801695 -0.31085375679037186014 -0.59680332967883531481 0.24209195056410906521 -0.44341213003830598494 0.28780609128167883304 0.68058743918966024822 0.64918194169843956853 -0.69055397183943367789 0.53351604871535707186 -0.12510337078904434915 0.24856572020304698589;0.72052565404313650976 -0.43629425540788424609 -0.40571066330111854592 -0.22296196174430304993 0.56252083746868986047 -0.66836225920866987327 0.10574262027217348758 -0.11681526732880208319 0.7195248647808489828 -0.60577305127867275836 -0.54056355014021784111 -0.68784085615033530026 0.14053191643720808202;-0.86220226492988238931 -0.58269740188950291948 -0.06845963780296088208 0.3344446696321333734 0.15680016007357461261 0.42662488442312945791 -1.0279390274748185785 0.22605211949718104214 -0.76349221193902383487 1.5371708037004390146 -0.38009810750388894895 -0.077633332480606803694 0.47858886664111177645;-0.24568555309558887112 -0.20248387955646621195 0.66503695321998301804 -1.019040249855170055 0.060369472100664609004 -0.26989344339055493238 0.64859667285021105343 0.058026232969268419504 -0.52975491609784197689 -1.0374096186604591097 -0.013319751232944359448 0.058615007509335993741 -0.29836431940503377325;0.012392111345653294974 0.85995081486388724734 0.76697847056458356985 0.53714019466564044691 -0.04995946754565223219 0.11940163215690348386 0.51243230894561686561 -0.25598173544628538556 -0.35953042117063382932 -0.46843982008075091272 0.39726947009005963984 0.62180344857696689953 -0.88426168678850114446;-0.49794666828227096556 0.53342413197313787165 0.69116076407578297403 -0.35590354167081145187 -0.40915074545996388267 0.88469166151858169567 -0.068638882998530215129 0.57559766357929509351 -0.25378846212917338665 -0.59249434357987607047 -0.20518296489904169766 0.15431561099620252908 -0.49709057115029553486;-0.46118224976089444711 -0.060753355445196229045 -0.48760620545108362967 -0.061214761846485568619 0.76688375045071044411 0.57433736129084766997 0.64703466316602487041 -0.79195562515498518774 0.38220265964251587398 -0.78399705813874165372 -0.064620912015457138144 0.1783433685144966141 0.92659288992910748828;-0.57617556829861282797 0.35873957787887650328 -0.34825072030629328212 0.82263182693915992694 -0.034260918643844326392 0.4909795482735502814 0.60746430678262042235 0.00039351806087715990312 -0.62777055592208930168 0.061429175591817423985 0.32624909476816560394 -0.33229889539241552754 0.20136104951758471149;-0.42728435565082895087 -0.42404643210481390847 -0.49568003055156450998 -0.31562961803171901698 -0.70271160380123087741 -1.1466363895495632619 -0.228108285532455074 0.646479667809339964 0.53214226204516668073 0.56867827641621426782 -0.52609573536456277765 -0.50082311199834628201 0.3300599615295970457;0.041535724165648726935 0.9827500467363902148 -0.25472531990208030495 -0.10648785791248799315 -0.34878303840928304158 -0.23013014043110996409 0.62601684866993234646 -0.78847009911315824038 0.80187287921511418709 -0.22515929233585857405 -0.23645383913336975867 0.010951626416966786515 -0.006882255380895818675;-0.97842940692185342844 0.24066396897070771455 0.0060551341121744036572 0.6616396460931195378 0.67508957295210447747 0.12337558602749754133 0.18314452197615530005 -0.13743603176302968127 -0.49234881691910536983 0.62358165563422263133 0.73299906693078009656 -0.11580992490548394636 0.20255863527237757959;0.31402050100623141171 -0.57405207844367645009 0.16232728682465738523 -0.24203780860374346506 -0.090329908714883333509 0.91498021598332712756 -0.49580754425650513939 -1.0805953622820096971 0.41783874456032676914 -0.68376589059290071582 -0.75944265368882946099 -0.70955459375644591713 -0.71671176726397056722;-0.70393419269920776138 -0.5759962807546794572 -0.54225294689125236314 0.12814023372070479367 0.25291800704931410859 0.27224171478504533006 -0.58366341483889261355 -0.67548455174406474288 -0.67441577872933211601 -0.40779245256829216304 0.34349038236197471097 -0.35446420002498452151 0.94753745514236942249;-0.74127777712460507509 0.19948825053750612879 -0.57996757432901691054 0.6289693408834254873 -0.53399965138241667351 0.62908713395872362106 0.69230028307843116675 0.28239096731500523685 0.14508492475743664518 0.60509947849739875725 0.27381054632376250479 0.60970903471525383921 0.017542511015837161659;0.1550332098575784856 -0.60060511235645497319 -0.41808136423013397831 -0.72067185357806995416 -0.70366830756176235173 0.87653214331510553858 -0.15782405547996330997 0.72658688998350462462 -0.02827866307109190569 -1.0547786809672210495 -1.1003699093990193525 0.24022111634540338487 -0.16389813841429293206;0.061316529311103318278 -0.7185150502117625404 0.55617123275869029264 0.75808815793554118478 -0.30582823163739342176 -0.21529421214599214762 -0.58651712847377279747 -0.29100748767602768741 0.24034084432503380335 -0.66338056158458447165 -0.59737720684435691165 0.66136053269654881959 0.41292508272391653668;-0.54790399862760075234 -0.5562463702174786917 -0.64981683335832707282 0.39635021325371594392 -0.46339040775053175203 -0.11526612091369295432 0.77367957067034198726 -0.76174454845644068435 -0.34315192386863951901 0.13447458787832292093 -0.2225082003796716168 0.020643707832929732854 -0.32626127458839782047;-0.33012286475207275327 -0.79027942302635778571 -0.07039483287822054236 0.53577963628966074339 0.67083144619086598759 0.46710266397308941588 0.26589452028460297539 0.73711616692501502612 0.28839910475456831396 0.83241571185552987178 0.41325871869838343153 -0.34765895430609300432 0.16498585009722965822;-0.1986223314646170246 0.3492907829189234592 -0.69076482596994348562 0.26525923516002630764 0.76140346692769989012 -0.48979494044445270884 0.86718296501191283188 -0.014570483895111402059 -0.15649416807436178356 -0.65482600407570334955 0.29209357106484307165 -0.68630847223129554102 -0.28825234723287967986;-0.50009127965191668697 0.51782283519497418478 0.5131530693367456486 0.11614901085359920219 -0.76441442233711776044 0.84336310739216702181 -0.45383831376887101561 0.76122547335192880524 -0.17147199540527746642 0.22738521238566314353 0.4104810916897440598 0.042939977553107119834 -0.38586382012937375796;-0.86590131009487536495 0.42989296313219865775 0.37227412007581073272 -0.16069239881271188408 0.016251409687253189768 0.31719816545700918464 0.35566023934057972022 -0.62068695008354590748 -0.37702927689696569269 -0.77786439461248002569 -0.99143559346701526369 -0.18826481563543789877 0.41537321777716573745];

% Layer 2
b2 = -0.035838332923116070217;
LW2_1 = [0.13892515802635363453 -0.76340033565945952798 -0.44637271999287875257 0.90919057694401839154 0.20398008065733583272 0.5613467831712430911 -0.19147843647537560186 -0.8877081130001769349 0.36645692484512959464 -0.78209488989342801357 -0.51416259113348417031 -0.13826109527246910336 -0.41100845437477595556 0.1745478981227540638 -0.5146350005444902953 -0.55747391565690262993 -0.64250407406861043125 -0.9484064290812017628 -0.68261678070602260782 0.50572036407092946231 -0.12104864393396339017 0.27271593554205614263 -0.47999327064653751762 -0.67673899202701881528 0.17220075849067223439 0.65467757549380023452 -0.45172565891897997759 0.32182492414846136652 0.95490526152332877441 0.16865960137438659738 0.36217012884784899329 -0.15518001556650218298 0.022394144572176165331 -0.00062741565436977416934 -0.38830756212968625674];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0421052631578947;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
